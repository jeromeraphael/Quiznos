<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <title>The General Quiz That No One Asked For</title>

    <script src="script.js"></script>
  </head>

  <body>
    <main>
      <div id="homepage">
        <center><h1>QUIZKNOWS</h1></center>
        <div id="categories">
            <center>
                <p><a href="index.html">HOME</a></p>
            </center>
        </div>
      </div>
      <button onclick="startQuiz()">start quiz</button>
      <div id="test-question-div"></div>
      <center>
          

      <table>
        <caption>Where is Mount Rushmore located?</caption>

        <tr>
            <td><button id = "c1" class="q1button" onclick="testAnswer1('1');">South Dakota</button></td>
            <td><button id = "do1" class="q1button" onclick="testAnswer1('2');">Indiana</button></td>
        </tr>

        <tr>
            <td><button id = "do2" class="q1button" onclick="testAnswer1('3');">Montana</button></td>
            <td><button id = "do3" class="q1button" onclick="testAnswer1('4');">Maine</button></td>
        </tr>
    </table>

    <table>
        <caption>How many hearts does an octopus have?</caption>

        <tr>
            <td><button id = "c2" id = "c2" class="q2button" onclick="testAnswer2('1');">3</button></td>
            <td><button id = "dt1" class="q2button" onclick="testAnswer2('2');">2</button></td>
        </tr>

        <tr>
            <td><button id = "dt2" class="q2button" onclick="testAnswer2('3');">420</button></td>
            <td><button id = "dt3" class="q2button" onclick="testAnswer2('4');">69</button></td>
        </tr>
    </table>

    <table>
        <caption>Where was 'Caesar's Salad' invented?</caption>

        <tr>
            <td><button id = "c3" class="q3button" onclick="testAnswer3('1');">Mexico</button></td>
            <td><button id = "dth1" class="q3button" onclick="testAnswer3('2');">Italy</button></td>
        </tr>

        <tr>
            <td><button id = "dth2" class="q3button" onclick="testAnswer3('3');">United States</button></td>
            <td><button id = "dth3" class="q3button" onclick="testAnswer3('4');">France</button></td>
        </tr>
    </table>

    <table>
        <caption>What year did people first land on the moon?</caption>

        <tr>
            <td><button id = "c4" class="q4button" onclick="testAnswer4('1');">1969</button></td>
            <td><button id = "df1" class="q4button" onclick="testAnswer4('2');">Moon landing was fake</button></td>
        </tr>

        <tr>
            <td><button id = "df2" class="q4button" onclick="testAnswer4('3');">1970</button></td>
            <td><button id = "df3" class="q4button" onclick="testAnswer4('4');">1968</button></td>
        </tr>
    </table>

    <table>
        <caption>What is the longest river in the world?</caption>

        <tr>
            <td><button id = "c5" class="q5button" onclick="testAnswer5('1');">Nile</button></td>
            <td><button id = "dfi1" class="q5button" onclick="testAnswer5('2');">Yangtze</button></td>
        </tr>

        <tr>
            <td><button id = "dfi2" class="q5button" onclick="testAnswer5('3');">Volga</button></td>
            <td><button id = "dfi3" class="q5button" onclick="testAnswer5('4');">Amazon</button></td>
        </tr>
    </table>
    <script text="text/javascript">
        var quizId = 1
        var userId = localStorage.getItem('userId');

        const startQuiz = () => {
            fetch('/general/questions', {
                credentials: "same-origin", 
                headers: {
                    'Content-Type': 'application/json'
                }
            })
              .then(questions => questions.json())
              .then(questions => { 
                for (var question of questions) {
                    let q = questions[question]; 
                    let answers = [q['answer1'], q['answer2'], q['answer3'], q['answer4']]; 
                    correctAnswer = answers.filter(answer => answer === q['correctAnswer']); 
                    if (questions.hasOwnProperty(question)) {
                        let html = `<div class='question-container'>
                            <p class='question-text'>${q['questionText']}</p>
                              <table class='button-table'>
                                <tbody>
                                    <tr>
                                        <td><button class='answer1'>${q['answer1']}</button></td><td><button class='answer2'>${q['answer2']}</button></td>
                                    </tr>
                                    <tr>
                                        <td><button class='answer3'>${q['answer3']}</button></td><td><button class='answer4'>${q['answer4']}</button></td>
                                    </tr>
                                </tbody>
                              </table>`;
                    }
                };
            }); 
        }
    </script>
      </center>
    </main>
  </body>
</html>